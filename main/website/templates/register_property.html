{% extends "includes/layout.html" %}

{% block title %}Register{% endblock title %}

{% block content %}

<div class="container pt-5">
  {% from "includes/formhelper.html" import render_field %}
    {% if form.errors %}
        {% for field_name, field_errors in form.errors|dictsort if field_errors %}
            {% for error in field_errors %}
              <div class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ form[field_name].label }}: {{ error }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endfor %}
        {% endfor %}
  {% endif %}

  <div class="row text-center">
    <h1>Register Property</h1>
  </div>

  <div class="row">
      <div class="col-lg-6 offset-lg-3">
          <form action="{{ url_for('views.register_property') }}" method="post" enctype="multipart/form-data">
            {{ form.csrf_token }}
            <div class="form-group">
              {{ render_field(form.property_name, class_="form-control") }}
            </div>
            <div class="form-group">
              {{ render_field(form.town, class_="form-control") }}
            </div>
            <div class="form-group">
              {{ render_field(form.postal_code, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.flat_type, class_="form-control") }}
            </div>
            <div class="form-group">
              {{ render_field(form.monthly_rent, class_="form-control") }}
            </div>
            <div class="form-group">
              {{ render_field(form.num_bedrooms, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.gender, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.floor_size, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.year_built, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.furnishing, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.floor_level, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.rent_approval_date, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.lease_term, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.negotiable, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.property_description, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.image, class_="form-control form-select") }}
            </div>
            <div class="form-group">
              {{ render_field(form.approval_form, class_="form-control form-select") }}
            </div>
            <br>
            <div class="form-group text-left">
              <input type="submit" class="btn btn-primary" value="Register">
            </div>
        </form>
      </div>
  </div>
</div>
{% endblock content %}

{% block bottomScript %}
<!--<script src='https://www.google.com/recaptcha/api.js' async defer></script>-->
{% endblock bottomScript %}